{% extends 'store/base.html' %}
{% load static %}

{% block content %}

<div class="order-detail-container">

  <h2>Order #{{ order.id }}</h2>

  <p>
    <strong>Date:</strong> {{ order.created_at|date:"d M Y, H:i" }}
  </p>

  <p>
    <strong>Total:</strong> ₹{{ order.total_amount }}
  </p>

  <a href="{% url 'order_history' %}" class="back-link">
    ← Back to Orders
  </a>

  <hr>

  <table class="order-table">
    <thead>
      <tr>
        <th>Product</th>
        <th>Price</th>
        <th>Qty</th>
        <th>Subtotal</th>
      </tr>
    </thead>

    <tbody>
      {% for item in order.items.all %}
        <tr>
          <td>{{ item.product.name }}</td>
          <td>₹{{ item.price }}</td>
          <td>{{ item.quantity }}</td>
          <td>₹{{ item.price|floatformat:2 }}</td>
        </tr>
      {% empty %}
        <tr>
          <td colspan="4" style="text-align:center;">
            No items found in this order.
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>

</div>

{% endblock %}